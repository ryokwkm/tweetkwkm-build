(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,n){e.exports=n(191)},129:function(e,t,n){},155:function(e,t,n){},191:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(23),s=n.n(i),o=n(199),c=n(80),l=n(14),u=n(11),h=n(17),m=n(18),d=n(19),p=n(73),f=n.n(p),g=n(88),b=n(114),v=n(10),y=n(25),E=(n(129),{PRD:"https://ts.2chx.net/Api/get",DEV:"https://ts.2chx.net/Api/get"});function O(e){var t=E["3001"===window.location.port?"DEV":"PRD"];return e?t+"/"+e:t}var w=n(94),j=n.n(w),k=n(95),I=n.n(k),D=n(89),S=n.n(D),x=n(91),N=n.n(x),C=n(92),H=n.n(C),L=n(101),A=n.n(L),B=n(102),M=n.n(B),P=n(98),_=n.n(P),z=n(93),R=n.n(z),W=n(53),J=n.n(W),K=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={startIndex:n.props.startIndex,detailBody:""},n.handleClickSecondIcon=n.handleClickSecondIcon.bind(Object(v.a)(n)),n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"getArticleByIndex",value:function(){var e=this.props.items[this.props.startIndex],t=e.parent_id;0===Number(t)&&(t=e.id);var n,a=this.props.parents;return a&&a.forEach(function(e){e.id===t&&(n=e)}),n}},{key:"getArticleDetailByIndex",value:function(){var e=this.props.items[this.props.startIndex],t=e.parent_id;0===Number(t)&&(t=e.id);var n,a=this.props.items;return a&&a.forEach(function(e){"0"===e.user_id&&e.parent_id===t&&(n=e)}),n}},{key:"handleClickSecondIcon",value:function(){this.props.handleSetDetail(),console.log(this.getArticleDetailByIndex())}},{key:"KeyboradArrowNode",value:function(){return this.props.isDetail?r.a.createElement(S.a,null):r.a.createElement(N.a,null)}},{key:"getHeaderDetail",value:function(e){if(!this.props.isDetail)return"";var t=this.getArticleDetailByIndex();return t?t.body:void 0}},{key:"render",value:function(){var e;if(this.props.items[this.props.startIndex]){var t=this.getArticleByIndex();if(t){var n=(e=new Date(t.created.replace(/-/g,"/")),"yyyy/MM/dd HH:mm".replace(/yyyy/g,e.getFullYear()).replace(/MM/g,("0"+(e.getMonth()+1)).slice(-2)).replace(/dd/g,("0"+e.getDate()).slice(-2)).replace(/HH/g,("0"+e.getHours()).slice(-2)).replace(/mm/g,("0"+e.getMinutes()).slice(-2)).replace(/ss/g,("0"+e.getSeconds()).slice(-2)).replace(/SSS/g,("00"+e.getMilliseconds()).slice(-3))),a=this.getHeaderDetail(t.url);return r.a.createElement(H.a,{className:"ArticleHeader"},r.a.createElement(R.a,{avatar:r.a.createElement("a",{href:t.url,target:"_blank"},r.a.createElement(J.a,{className:"avater"},r.a.createElement(j.a,null))),action:r.a.createElement(I.a,{onClick:this.handleClickSecondIcon,"aria-expanded":this.props.isDetail,"aria-label":"Show more"},this.KeyboradArrowNode()),title:t.head,subheader:n}),r.a.createElement(_.a,{in:this.props.isDetail,timeout:"auto",unmountOnExit:!0},r.a.createElement(A.a,null,r.a.createElement(M.a,{paragraph:!0},a,"\u2026"," ",r.a.createElement("a",{href:t.url,target:"_blank",className:"link"},"\u7d9a\u304d\u3092\u8aad\u3080")))))}}return null}}]),t}(r.a.Component),T=Object(y.a)(function(e){return{articleHeader:{width:"100%",height:30}}})(K),V=n(103),q=n(104);function F(){var e=function(){var e=window,t=document,n=t.documentElement,a=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||a.clientWidth,height:e.innerHeight||n.clientHeight||a.clientHeight}}();if(e.height>1e3)return{width:e.width,height:e.height,listHeight:80};var t=(1e3-e.width/2)/4+50;return{width:e.width,height:e.height,listHeight:t}}n(155);var U=n(28),Y=n(105),Z=n(111),$=n.n(Z),G=n(112),Q=n.n(G),X=n(113),ee=n.n(X),te=n(57),ne=n.n(te),ae=n(109),re=n.n(ae),ie=n(110),se=n.n(ie);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(n,!0).forEach(function(t){Object(U.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function le(){var e=Object(Y.a)(["\n  position: relative;\n  width: 100px;\n"]);return le=function(){return e},e}var ue=n(106).a.div(le()),he=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).regBody=function(e){var t;return t=ne()(e,/(https?:\/\/\S+)/g,function(e,t){return r.a.createElement("a",{className:"link",key:e+t,href:e},e)}),t=ne()(t,/@(\w+)/g,function(e,t){return r.a.createElement("a",{className:"mention",key:e+t,href:"https://twitter.com/".concat(e)},"@",e)}),t=ne()(t,/#([A-Za-z0-9-_\u3041-\u30f6\u4e9c-\u9ed1\u30fc]+)/g,function(e,t){return r.a.createElement("a",{className:"hash",key:e+t,href:"https://twitter.com/hashtag/".concat(e)},"#",e)}),r.a.createElement("span",null,t)},n.state={items:[],parents:[],moreItemsLoading:!1,page:0,startIndex:0},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"ListBodyNode",value:function(e){var t=this.props.items[e].user_id;0===Number(t)&&(t="1093499946609762305");var n=this.props.items[e].user_image,a=r.a.createElement("span",{className:"secondary"},r.a.createElement(re.a,{className:"favorite",style:{fontSize:15}}),r.a.createElement("span",null,this.props.items[e].favorite),r.a.createElement(se.a,{className:"retweet",style:{fontSize:15}}),r.a.createElement("span",null,this.props.items[e].retweet));return r.a.createElement($.a,{alignItems:"center",button:!0,className:"InfiniteRow",style:ce({},this.props.style,{height:F().listHeight+"px"})},r.a.createElement(Q.a,null,r.a.createElement("a",{href:"https://twitter.com/intent/user?user_id="+t,target:"_blank"},r.a.createElement(J.a,{alt:"Cindy Baker",src:n}))),r.a.createElement(ee.a,{className:"InfiniteRowBody",primary:this.regBody(this.props.items[e].body),secondary:a}))}},{key:"render",value:function(){return this.props.index>=this.props.items.length?r.a.createElement(ue,{style:ce({},this.props.style,{backgroundColor:"grey"})}):this.ListBodyNode(this.props.index)}}]),t}(r.a.Component),me=function(e){return{infinateList:{width:"100%",marginTop:100}}},de=function(e){var t=e.items,n=(e.moreItemsLoading,e.hasNextPage),a=e.loadMoreItems,i=e.handleScroll,s=e.isDetail,o=function(e){var n=e.index,a=e.style;return e.ref,r.a.createElement(he,{items:t,style:a,index:n})},c=n?t.length+1:t.length;return r.a.createElement(q.a,{className:me.infinateList,isItemLoaded:function(e){return e<t.length-1},itemCount:c,loadMoreItems:a,onScrollHandler:i},function(e){var t=e.onItemsRendered,n=e.ref,a=F().height-100;s&&(a=F().height-300);var i=F().listHeight;return r.a.createElement(V.a,{className:"InfiniteList",height:a,width:"100%",itemCount:c,itemSize:i,onItemsRendered:t,ref:n},o)})},pe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).handleScroll=function(e){n.setState({startIndex:e})},n.handleSetDetail=function(){n.setState({isDetail:!n.state.isDetail})},n.state={items:[],parents:[],moreItemsLoading:!1,page:0,startIndex:0,windowSize:{},isDetail:!0},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"loadMoreItems",value:function(){var e=Object(g.a)(f.a.mark(function e(t,n){var a,r,i,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(23,console.log("Loading...",this.state.items.length,t),!(this.state.page>=23)){e.next=4;break}return e.abrupt("return");case 4:return this.setState({moreItemsLoading:!0}),e.next=7,fetch(O("?beforeDay=2&country="+this.state.page));case 7:return a=e.sent,e.next=10,a.json();case 10:r=e.sent,i=[],s=[],r.forEach(function(e){var t=Object.assign({},e.reactions);if(e.reactions=null,i.push(e),s.push(e),t)for(var n in t)i.push(t[n])}),this.setState({moreItemsLoading:!1,page:this.state.page+1,items:this.state.items.concat(i),parents:this.state.parents.concat(s)});case 15:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(T,{startIndex:this.state.startIndex,parents:this.state.parents,items:this.state.items,isDetail:this.state.isDetail,handleSetDetail:this.handleSetDetail}),r.a.createElement(de,{items:this.state.items,hasNextPage:!0,moreItemsLoading:this.state.moreItemsLoading,loadMoreItems:this.loadMoreItems.bind(this),handleScroll:this.handleScroll.bind(this),isDetail:this.state.isDetail}))}}]),t}(r.a.Component),fe=Object(b.withStyles)(function(e){return{root:{width:"100%",height:"100%",backgroundColor:e.palette.background.paper},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0}}})(pe),ge=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={offset:0,currentPosition:0},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(fe,{monsters:this.props.monsters}))}}]),t}(r.a.Component),be=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={isLoaded:!1,error:null,items:[]},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(O("?country=13")).then(function(e){return e.json()}).then(function(t){e.setState({isLoaded:!0,items:t})},function(t){e.setState({isLoaded:!0,error:t})})}},{key:"render",value:function(){return r.a.createElement(ge,{monsters:this.state.items})}}]),t}(r.a.Component),ve=n(35),ye=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(m.a)(t).call(this,e))).state={},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;ve.a.set({page:e}),ve.a.pageview(e)}},{key:"render",value:function(){return r.a.createElement(be,null)}}]),t}(r.a.Component),Ee=n(56),Oe=n(118),we=Object(Oe.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:Ee.a.A400},background:{default:"#fff"}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var je=n(116),ke=n(31),Ie=n(115),De=n.n(Ie);ve.a.initialize("UA-15142129-4");var Se=De()();Se.listen(function(e){var t=e.pathname;ve.a.set({page:t}),ve.a.pageview(t)}),s.a.render(r.a.createElement(c.a,{theme:we},r.a.createElement(o.a,null),r.a.createElement(je.a,{history:Se},r.a.createElement("div",null,r.a.createElement(ke.a,{exact:!0,path:"/",component:ye}),r.a.createElement(ke.a,{path:"/about",component:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"About"),r.a.createElement("p",null,"\u30d5\u30ec\u30f3\u30ba\u306b\u6295\u7968\u3059\u308b\u30da\u30fc\u30b8\u3067\u3059"))}}),r.a.createElement(ke.a,{path:"/home",component:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Home"),r.a.createElement("p",null,"Welcome to \u3088\u3046\u3053\u305d"))}})))),document.querySelector("#root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[123,1,2]]]);
//# sourceMappingURL=main.aee193bd.chunk.js.map